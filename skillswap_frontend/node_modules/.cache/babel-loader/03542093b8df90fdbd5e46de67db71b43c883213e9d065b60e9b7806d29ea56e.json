{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import{messagesAPI,meetingsAPI,notificationsAPI}from'../services/api';import MeetingModal from'./MeetingModal';import VideoCall from'./VideoCall';import MeetingNotification from'./MeetingNotification';import NotificationPanel from'./NotificationPanel';// Test if VideoCall component is imported\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";console.log('VideoCall component imported:',VideoCall);const Chat=_ref=>{let{chatId,participants}=_ref;const[messages,setMessages]=useState([]);const[meetings,setMeetings]=useState([]);const[notifications,setNotifications]=useState([]);const[newMessage,setNewMessage]=useState('');const[loading,setLoading]=useState(true);const[sending,setSending]=useState(false);const[error,setError]=useState('');const[showMeetingModal,setShowMeetingModal]=useState(false);const[showMeetings,setShowMeetings]=useState(false);const[activeVideoCall,setActiveVideoCall]=useState(null);const[meetingNotification,setMeetingNotification]=useState(null);const[showNotificationPanel,setShowNotificationPanel]=useState(false);const[unreadCount,setUnreadCount]=useState(0);// Debug logging\nconsole.log('Chat component rendered, activeVideoCall:',activeVideoCall);// Add a visible indicator if activeVideoCall exists\nif(activeVideoCall){console.log('ACTIVE VIDEO CALL EXISTS!',activeVideoCall);}const messagesEndRef=useRef(null);const currentUsername=localStorage.getItem('username');useEffect(()=>{fetchMessages();fetchMeetings();fetchNotifications();fetchUnreadCount();// Poll for new messages and notifications every 10 seconds\nconst interval=setInterval(()=>{fetchMessages();fetchNotifications();fetchUnreadCount();},10000);return()=>{console.log('Clearing polling interval');clearInterval(interval);};},[chatId]);useEffect(()=>{scrollToBottom();},[messages]);const fetchMessages=async()=>{try{const response=await messagesAPI.getMessages(chatId);setMessages(response.data);}catch(err){setError('Failed to load messages. Please try again.');}finally{setLoading(false);}};const fetchMeetings=async()=>{try{const response=await meetingsAPI.getAll();// Filter meetings for this chat\nconst chatMeetings=response.data.filter(meeting=>meeting.chat===chatId);setMeetings(chatMeetings);}catch(err){console.error('Failed to load meetings:',err);}};const fetchNotifications=async()=>{try{const response=await notificationsAPI.getAll();setNotifications(response.data);// Check for meeting notifications\nconst meetingNotifications=response.data.filter(n=>n.notification_type==='MEETING_STARTED'&&n.related_meeting&&!n.read);if(meetingNotifications.length>0){const latestNotification=meetingNotifications[0];// Find the corresponding meeting\nconst meeting=meetings.find(m=>m.id===latestNotification.related_meeting);if(meeting&&meeting.organizer_name!==currentUsername){setMeetingNotification(meeting);}}}catch(err){console.error('Failed to load notifications:',err);}};const fetchUnreadCount=async()=>{try{const response=await notificationsAPI.getUnreadCount();setUnreadCount(response.data.unread_count);}catch(err){console.error('Failed to get unread count:',err);}};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};const handleSendMessage=async e=>{e.preventDefault();if(!newMessage.trim())return;setSending(true);setError('');try{const messageData={chat:chatId,content:newMessage.trim()};const response=await messagesAPI.createMessage(messageData);setMessages([...messages,response.data]);setNewMessage('');}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.error)||'Failed to send message. Please try again.');}finally{setSending(false);}};const handleMeetingCreated=meeting=>{setMeetings([...meetings,meeting]);};const handleMeetingNotificationJoin=meeting=>{setActiveVideoCall(meeting);setMeetingNotification(null);};const handleMeetingNotificationDismiss=()=>{setMeetingNotification(null);};const handleJoinMeetingFromNotification=meeting=>{setActiveVideoCall(meeting);// Mark notification as read\nconst notification=notifications.find(n=>n.notification_type==='MEETING_STARTED'&&n.related_meeting===meeting.id);if(notification){handleMarkNotificationAsRead(notification.id);}};const handleDismissNotification=notificationId=>{setNotifications(prev=>prev.filter(n=>n.id!==notificationId));};const handleMarkNotificationAsRead=async notificationId=>{try{await notificationsAPI.markAsRead(notificationId);setNotifications(prev=>prev.map(n=>n.id===notificationId?{...n,read:true}:n));fetchUnreadCount();}catch(err){console.error('Failed to mark notification as read:',err);}};const handleClearAllNotifications=async()=>{try{await notificationsAPI.clearAll();setNotifications([]);setMeetingNotification(null);setUnreadCount(0);console.log('All notifications cleared');}catch(err){console.error('Failed to clear notifications:',err);}};const handleJoinMeeting=async meeting=>{try{await meetingsAPI.joinMeeting(meeting.id);setActiveVideoCall(meeting);}catch(err){setError('Failed to join meeting. Please try again.');}};const handleStartMeeting=async meeting=>{console.log('Starting meeting:',meeting);try{await meetingsAPI.startMeeting(meeting.id);console.log('Meeting started successfully, setting active video call');setActiveVideoCall(meeting);fetchMeetings();// Refresh meetings list\n}catch(err){console.error('Failed to start meeting:',err);setError('Failed to start meeting. Please try again.');}};const formatTime=dateString=>{return new Date(dateString).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});};const formatDateTime=dateString=>{return new Date(dateString).toLocaleString();};const getMeetingStatusColor=status=>{switch(status){case'ONGOING':return'#28a745';case'COMPLETED':return'#6c757d';case'CANCELLED':return'#dc3545';default:return'#007bff';}};if(loading){return/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center',padding:'20px'},children:/*#__PURE__*/_jsx(\"p\",{children:\"Loading chat...\"})});}return/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',height:'500px',border:'1px solid #ddd',borderRadius:'8px',overflow:'hidden',position:'relative'},children:[activeVideoCall&&/*#__PURE__*/_jsxs(\"div\",{style:{position:'absolute',top:'0px',left:'0px',right:'0px',backgroundColor:'red',color:'white',padding:'5px',textAlign:'center',zIndex:1000,fontSize:'12px'},children:[\"\\uD83D\\uDEA8 VIDEO CALL ACTIVE - Meeting ID: \",activeVideoCall.id]}),/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#f8f9fa',padding:'15px',borderBottom:'1px solid #ddd',display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{style:{margin:0},children:\"Chat\"}),/*#__PURE__*/_jsx(\"p\",{style:{margin:0,fontSize:'14px',color:'#666'},children:participants.map(p=>p.username).join(' & ')})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowNotificationPanel(!showNotificationPanel),className:\"btn btn-outline-info\",style:{fontSize:'12px',padding:'5px 10px',position:'relative'},children:[\"\\uD83D\\uDD14 Notifications\",unreadCount>0&&/*#__PURE__*/_jsx(\"span\",{style:{position:'absolute',top:'-5px',right:'-5px',backgroundColor:'#dc3545',color:'white',borderRadius:'50%',width:'18px',height:'18px',fontSize:'10px',display:'flex',alignItems:'center',justifyContent:'center'},children:unreadCount})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowMeetings(!showMeetings),className:\"btn btn-outline-primary\",style:{fontSize:'12px',padding:'5px 10px'},children:[\"\\uD83D\\uDCC5 Meetings (\",meetings.length,\")\"]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowMeetingModal(true),className:\"btn btn-success\",style:{fontSize:'12px',padding:'5px 10px'},children:\"\\uD83D\\uDE80 Start Meeting\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{alert('Test button clicked!');console.log('Test video call button clicked');setActiveVideoCall({id:999,title:'Test Meeting',description:'Test meeting for debugging',organizer:1,organizer_name:'Test User',chat:chatId,scheduled_at:undefined,duration_minutes:30,status:'ONGOING',created_at:new Date().toISOString()});},className:\"btn btn-warning\",style:{fontSize:'12px',padding:'5px 10px',backgroundColor:'orange',color:'white',border:'2px solid red'},children:\"\\uD83E\\uDDEA Test Video Call\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{alert('Simple test button clicked!');document.body.innerHTML+='<div style=\"position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:red;color:white;padding:20px;z-index:9999;\">SIMPLE TEST - BUTTONS WORK!</div>';},className:\"btn btn-danger\",style:{fontSize:'12px',padding:'5px 10px',backgroundColor:'red',color:'white',border:'2px solid black'},children:\"\\uD83D\\uDD25 Simple Test\"})]})]}),showMeetings&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundColor:'#f8f9fa',borderBottom:'1px solid #ddd',padding:'15px',maxHeight:'200px',overflowY:'auto'},children:[/*#__PURE__*/_jsx(\"h4\",{style:{margin:'0 0 10px 0',fontSize:'14px'},children:\"\\uD83D\\uDCC5 Meetings\"}),meetings.length===0?/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'12px',color:'#666',margin:0},children:\"No meetings scheduled. Start a meeting to begin video calls!\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:meetings.map(meeting=>/*#__PURE__*/_jsx(\"div\",{style:{backgroundColor:'white',padding:'10px',borderRadius:'5px',border:'1px solid #ddd'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',alignItems:'center'},children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{style:{margin:'0 0 5px 0',fontSize:'13px'},children:meeting.title}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:0,fontSize:'11px',color:'#666'},children:[meeting.meeting_type==='INSTANT'?'ðŸš€ Instant':'ðŸ“… Scheduled',meeting.scheduled_at&&` - ${formatDateTime(meeting.scheduled_at)}`]}),/*#__PURE__*/_jsxs(\"p\",{style:{margin:'5px 0 0 0',fontSize:'11px'},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:getMeetingStatusColor(meeting.status),fontWeight:'bold'},children:meeting.status}),meeting.duration_minutes&&` â€¢ ${meeting.duration_minutes} min`]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'5px'},children:[meeting.status==='SCHEDULED'&&meeting.organizer_name===currentUsername&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleStartMeeting(meeting),className:\"btn btn-success\",style:{fontSize:'10px',padding:'3px 8px'},children:\"Start\"}),meeting.status==='ONGOING'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleJoinMeeting(meeting),className:\"btn btn-primary\",style:{fontSize:'10px',padding:'3px 8px'},children:\"Join\"})]})]})},meeting.id))})]}),/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,overflowY:'auto',padding:'15px',backgroundColor:'#f9f9f9'},children:[error&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",style:{marginBottom:'15px'},children:error}),messages.length===0?/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:'center',color:'#666',marginTop:'50px'},children:[/*#__PURE__*/_jsx(\"p\",{children:\"No messages yet. Start the conversation!\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"\\uD83D\\uDCA1 Share tips, ask questions, or discuss your skills\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px'},children:\"\\uD83D\\uDE80 Click \\\"Start Meeting\\\" to begin video calls\"})]}):/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column',gap:'10px'},children:[messages.map(message=>{const isOwnMessage=message.sender_name===currentUsername;return/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',justifyContent:isOwnMessage?'flex-end':'flex-start',marginBottom:'10px'},children:/*#__PURE__*/_jsxs(\"div\",{style:{maxWidth:'70%',padding:'10px 15px',borderRadius:'15px',backgroundColor:isOwnMessage?'#007bff':'white',color:isOwnMessage?'white':'#333',boxShadow:'0 1px 3px rgba(0,0,0,0.1)',wordWrap:'break-word'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'12px',marginBottom:'5px',opacity:0.8},children:message.sender_name}),/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:'5px'},children:message.content}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:'10px',opacity:0.7,textAlign:'right'},children:formatTime(message.created_at)})]})},message.id);}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSendMessage,style:{padding:'15px',borderTop:'1px solid #ddd',backgroundColor:'white'},children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',gap:'10px'},children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newMessage,onChange:e=>setNewMessage(e.target.value),placeholder:\"Type your message...\",style:{flex:1,padding:'10px',border:'1px solid #ddd',borderRadius:'5px',fontSize:'14px'},disabled:sending}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:sending||!newMessage.trim(),className:\"btn btn-primary\",style:{padding:'10px 20px'},children:sending?'Sending...':'Send'})]})}),showMeetingModal&&/*#__PURE__*/_jsx(MeetingModal,{chatId:chatId,participants:participants,onClose:()=>setShowMeetingModal(false),onMeetingCreated:handleMeetingCreated,onStartVideoCall:setActiveVideoCall}),activeVideoCall&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{position:'fixed',top:'10px',right:'10px',backgroundColor:'red',color:'white',padding:'10px',zIndex:3000,borderRadius:'5px'},children:[\"DEBUG: Video Call Active - Meeting ID: \",activeVideoCall.id]}),/*#__PURE__*/_jsx(VideoCall,{meetingId:activeVideoCall.id,participants:participants,onClose:()=>setActiveVideoCall(null)})]}),meetingNotification&&/*#__PURE__*/_jsx(MeetingNotification,{meeting:meetingNotification,onJoin:handleMeetingNotificationJoin,onDismiss:handleMeetingNotificationDismiss}),showNotificationPanel&&/*#__PURE__*/_jsx(NotificationPanel,{notifications:notifications,onJoinMeeting:handleJoinMeetingFromNotification,onDismissNotification:handleDismissNotification,onMarkAsRead:handleMarkNotificationAsRead,onClearAll:handleClearAllNotifications,onClose:()=>setShowNotificationPanel(false)})]});};export default Chat;","map":{"version":3,"names":["React","useState","useEffect","useRef","messagesAPI","meetingsAPI","notificationsAPI","MeetingModal","VideoCall","MeetingNotification","NotificationPanel","jsx","_jsx","jsxs","_jsxs","console","log","Chat","_ref","chatId","participants","messages","setMessages","meetings","setMeetings","notifications","setNotifications","newMessage","setNewMessage","loading","setLoading","sending","setSending","error","setError","showMeetingModal","setShowMeetingModal","showMeetings","setShowMeetings","activeVideoCall","setActiveVideoCall","meetingNotification","setMeetingNotification","showNotificationPanel","setShowNotificationPanel","unreadCount","setUnreadCount","messagesEndRef","currentUsername","localStorage","getItem","fetchMessages","fetchMeetings","fetchNotifications","fetchUnreadCount","interval","setInterval","clearInterval","scrollToBottom","response","getMessages","data","err","getAll","chatMeetings","filter","meeting","chat","meetingNotifications","n","notification_type","related_meeting","read","length","latestNotification","find","m","id","organizer_name","getUnreadCount","unread_count","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","e","preventDefault","trim","messageData","content","createMessage","_err$response","_err$response$data","handleMeetingCreated","handleMeetingNotificationJoin","handleMeetingNotificationDismiss","handleJoinMeetingFromNotification","notification","handleMarkNotificationAsRead","handleDismissNotification","notificationId","prev","markAsRead","map","handleClearAllNotifications","clearAll","handleJoinMeeting","joinMeeting","handleStartMeeting","startMeeting","formatTime","dateString","Date","toLocaleTimeString","hour","minute","formatDateTime","toLocaleString","getMeetingStatusColor","status","style","textAlign","padding","children","display","flexDirection","height","border","borderRadius","overflow","position","top","left","right","backgroundColor","color","zIndex","fontSize","borderBottom","justifyContent","alignItems","margin","p","username","join","gap","onClick","className","width","alert","title","description","organizer","scheduled_at","undefined","duration_minutes","created_at","toISOString","document","body","innerHTML","maxHeight","overflowY","meeting_type","fontWeight","flex","marginBottom","marginTop","message","isOwnMessage","sender_name","maxWidth","boxShadow","wordWrap","opacity","ref","onSubmit","borderTop","type","value","onChange","target","placeholder","disabled","onClose","onMeetingCreated","onStartVideoCall","meetingId","onJoin","onDismiss","onJoinMeeting","onDismissNotification","onMarkAsRead","onClearAll"],"sources":["C:/Users/soham_jhyepxn/Desktop/skill-swap/Skill-Swap_Access_Denied/skillswap_frontend/src/components/Chat.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport { messagesAPI, meetingsAPI, notificationsAPI } from '../services/api';\r\nimport { Message, MessageForm, Meeting, Notification } from '../types';\r\nimport MeetingModal from './MeetingModal';\r\nimport VideoCall from './VideoCall';\r\nimport MeetingNotification from './MeetingNotification';\r\nimport NotificationPanel from './NotificationPanel';\r\n\r\n// Test if VideoCall component is imported\r\nconsole.log('VideoCall component imported:', VideoCall);\r\n\r\ninterface ChatProps {\r\n  chatId: number;\r\n  participants: { id: number; username: string }[];\r\n}\r\n\r\nconst Chat: React.FC<ChatProps> = ({ chatId, participants }) => {\r\n  const [messages, setMessages] = useState<Message[]>([]);\r\n  const [meetings, setMeetings] = useState<Meeting[]>([]);\r\n  const [notifications, setNotifications] = useState<Notification[]>([]);\r\n  const [newMessage, setNewMessage] = useState<string>('');\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [sending, setSending] = useState<boolean>(false);\r\n  const [error, setError] = useState<string>('');\r\n  const [showMeetingModal, setShowMeetingModal] = useState<boolean>(false);\r\n  const [showMeetings, setShowMeetings] = useState<boolean>(false);\r\n  const [activeVideoCall, setActiveVideoCall] = useState<Meeting | null>(null);\r\n  const [meetingNotification, setMeetingNotification] = useState<Meeting | null>(null);\r\n  const [showNotificationPanel, setShowNotificationPanel] = useState<boolean>(false);\r\n  const [unreadCount, setUnreadCount] = useState<number>(0);\r\n  \r\n  // Debug logging\r\n  console.log('Chat component rendered, activeVideoCall:', activeVideoCall);\r\n  \r\n  // Add a visible indicator if activeVideoCall exists\r\n  if (activeVideoCall) {\r\n    console.log('ACTIVE VIDEO CALL EXISTS!', activeVideoCall);\r\n  }\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n  const currentUsername = localStorage.getItem('username');\r\n\r\n  useEffect(() => {\r\n    fetchMessages();\r\n    fetchMeetings();\r\n    fetchNotifications();\r\n    fetchUnreadCount();\r\n    \r\n    // Poll for new messages and notifications every 10 seconds\r\n    const interval = setInterval(() => {\r\n      fetchMessages();\r\n      fetchNotifications();\r\n      fetchUnreadCount();\r\n    }, 10000);\r\n    \r\n    return () => {\r\n      console.log('Clearing polling interval');\r\n      clearInterval(interval);\r\n    };\r\n  }, [chatId]);\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const fetchMessages = async () => {\r\n    try {\r\n      const response = await messagesAPI.getMessages(chatId);\r\n      setMessages(response.data);\r\n    } catch (err: any) {\r\n      setError('Failed to load messages. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchMeetings = async () => {\r\n    try {\r\n      const response = await meetingsAPI.getAll();\r\n      // Filter meetings for this chat\r\n      const chatMeetings = response.data.filter((meeting: any) => meeting.chat === chatId);\r\n      setMeetings(chatMeetings);\r\n    } catch (err: any) {\r\n      console.error('Failed to load meetings:', err);\r\n    }\r\n  };\r\n\r\n  const fetchNotifications = async () => {\r\n    try {\r\n      const response = await notificationsAPI.getAll();\r\n      setNotifications(response.data);\r\n      \r\n      // Check for meeting notifications\r\n      const meetingNotifications = response.data.filter((n: any) => \r\n        n.notification_type === 'MEETING_STARTED' && \r\n        n.related_meeting && \r\n        !n.read\r\n      );\r\n      \r\n      if (meetingNotifications.length > 0) {\r\n        const latestNotification = meetingNotifications[0];\r\n        // Find the corresponding meeting\r\n        const meeting = meetings.find(m => m.id === latestNotification.related_meeting);\r\n        if (meeting && meeting.organizer_name !== currentUsername) {\r\n          setMeetingNotification(meeting);\r\n        }\r\n      }\r\n    } catch (err: any) {\r\n      console.error('Failed to load notifications:', err);\r\n    }\r\n  };\r\n\r\n  const fetchUnreadCount = async () => {\r\n    try {\r\n      const response = await notificationsAPI.getUnreadCount();\r\n      setUnreadCount(response.data.unread_count);\r\n    } catch (err: any) {\r\n      console.error('Failed to get unread count:', err);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  const handleSendMessage = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!newMessage.trim()) return;\r\n\r\n    setSending(true);\r\n    setError('');\r\n\r\n    try {\r\n      const messageData: MessageForm = {\r\n        chat: chatId,\r\n        content: newMessage.trim(),\r\n      };\r\n\r\n      const response = await messagesAPI.createMessage(messageData);\r\n      setMessages([...messages, response.data]);\r\n      setNewMessage('');\r\n    } catch (err: any) {\r\n      setError(err.response?.data?.error || 'Failed to send message. Please try again.');\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const handleMeetingCreated = (meeting: Meeting) => {\r\n    setMeetings([...meetings, meeting]);\r\n  };\r\n\r\n  const handleMeetingNotificationJoin = (meeting: Meeting) => {\r\n    setActiveVideoCall(meeting);\r\n    setMeetingNotification(null);\r\n  };\r\n\r\n  const handleMeetingNotificationDismiss = () => {\r\n    setMeetingNotification(null);\r\n  };\r\n\r\n  const handleJoinMeetingFromNotification = (meeting: Meeting) => {\r\n    setActiveVideoCall(meeting);\r\n    // Mark notification as read\r\n    const notification = notifications.find(n => \r\n      n.notification_type === 'MEETING_STARTED' && \r\n      n.related_meeting === meeting.id\r\n    );\r\n    if (notification) {\r\n      handleMarkNotificationAsRead(notification.id);\r\n    }\r\n  };\r\n\r\n  const handleDismissNotification = (notificationId: number) => {\r\n    setNotifications(prev => prev.filter(n => n.id !== notificationId));\r\n  };\r\n\r\n  const handleMarkNotificationAsRead = async (notificationId: number) => {\r\n    try {\r\n      await notificationsAPI.markAsRead(notificationId);\r\n      setNotifications(prev => \r\n        prev.map(n => n.id === notificationId ? { ...n, read: true } : n)\r\n      );\r\n      fetchUnreadCount();\r\n    } catch (err: any) {\r\n      console.error('Failed to mark notification as read:', err);\r\n    }\r\n  };\r\n\r\n  const handleClearAllNotifications = async () => {\r\n    try {\r\n      await notificationsAPI.clearAll();\r\n      setNotifications([]);\r\n      setMeetingNotification(null);\r\n      setUnreadCount(0);\r\n      console.log('All notifications cleared');\r\n    } catch (err: any) {\r\n      console.error('Failed to clear notifications:', err);\r\n    }\r\n  };\r\n\r\n  const handleJoinMeeting = async (meeting: Meeting) => {\r\n    try {\r\n      await meetingsAPI.joinMeeting(meeting.id);\r\n      setActiveVideoCall(meeting);\r\n    } catch (err: any) {\r\n      setError('Failed to join meeting. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleStartMeeting = async (meeting: Meeting) => {\r\n    console.log('Starting meeting:', meeting);\r\n    try {\r\n      await meetingsAPI.startMeeting(meeting.id);\r\n      console.log('Meeting started successfully, setting active video call');\r\n      setActiveVideoCall(meeting);\r\n      fetchMeetings(); // Refresh meetings list\r\n    } catch (err: any) {\r\n      console.error('Failed to start meeting:', err);\r\n      setError('Failed to start meeting. Please try again.');\r\n    }\r\n  };\r\n\r\n  const formatTime = (dateString: string) => {\r\n    return new Date(dateString).toLocaleTimeString([], { \r\n      hour: '2-digit', \r\n      minute: '2-digit' \r\n    });\r\n  };\r\n\r\n  const formatDateTime = (dateString: string) => {\r\n    return new Date(dateString).toLocaleString();\r\n  };\r\n\r\n  const getMeetingStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'ONGOING':\r\n        return '#28a745';\r\n      case 'COMPLETED':\r\n        return '#6c757d';\r\n      case 'CANCELLED':\r\n        return '#dc3545';\r\n      default:\r\n        return '#007bff';\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '20px' }}>\r\n        <p>Loading chat...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={{ \r\n      display: 'flex', \r\n      flexDirection: 'column', \r\n      height: '500px',\r\n      border: '1px solid #ddd',\r\n      borderRadius: '8px',\r\n      overflow: 'hidden',\r\n      position: 'relative'\r\n    }}>\r\n      {/* Debug indicator */}\r\n      {activeVideoCall && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '0px',\r\n          left: '0px',\r\n          right: '0px',\r\n          backgroundColor: 'red',\r\n          color: 'white',\r\n          padding: '5px',\r\n          textAlign: 'center',\r\n          zIndex: 1000,\r\n          fontSize: '12px'\r\n        }}>\r\n          ðŸš¨ VIDEO CALL ACTIVE - Meeting ID: {activeVideoCall.id}\r\n        </div>\r\n      )}\r\n      {/* Chat Header */}\r\n      <div style={{\r\n        backgroundColor: '#f8f9fa',\r\n        padding: '15px',\r\n        borderBottom: '1px solid #ddd',\r\n        display: 'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center'\r\n      }}>\r\n        <div>\r\n          <h3 style={{ margin: 0 }}>Chat</h3>\r\n          <p style={{ margin: 0, fontSize: '14px', color: '#666' }}>\r\n            {participants.map(p => p.username).join(' & ')}\r\n          </p>\r\n        </div>\r\n        <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\r\n          <button\r\n            onClick={() => setShowNotificationPanel(!showNotificationPanel)}\r\n            className=\"btn btn-outline-info\"\r\n            style={{ \r\n              fontSize: '12px', \r\n              padding: '5px 10px',\r\n              position: 'relative'\r\n            }}\r\n          >\r\n            ðŸ”” Notifications\r\n            {unreadCount > 0 && (\r\n              <span style={{\r\n                position: 'absolute',\r\n                top: '-5px',\r\n                right: '-5px',\r\n                backgroundColor: '#dc3545',\r\n                color: 'white',\r\n                borderRadius: '50%',\r\n                width: '18px',\r\n                height: '18px',\r\n                fontSize: '10px',\r\n                display: 'flex',\r\n                alignItems: 'center',\r\n                justifyContent: 'center'\r\n              }}>\r\n                {unreadCount}\r\n              </span>\r\n            )}\r\n          </button>\r\n          <button\r\n            onClick={() => setShowMeetings(!showMeetings)}\r\n            className=\"btn btn-outline-primary\"\r\n            style={{ fontSize: '12px', padding: '5px 10px' }}\r\n          >\r\n            ðŸ“… Meetings ({meetings.length})\r\n          </button>\r\n          <button\r\n            onClick={() => setShowMeetingModal(true)}\r\n            className=\"btn btn-success\"\r\n            style={{ fontSize: '12px', padding: '5px 10px' }}\r\n          >\r\n            ðŸš€ Start Meeting\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              alert('Test button clicked!');\r\n              console.log('Test video call button clicked');\r\n              setActiveVideoCall({\r\n                id: 999,\r\n                title: 'Test Meeting',\r\n                description: 'Test meeting for debugging',\r\n                organizer: 1,\r\n                organizer_name: 'Test User',\r\n                chat: chatId,\r\n                scheduled_at: undefined,\r\n                duration_minutes: 30,\r\n                status: 'ONGOING',\r\n                created_at: new Date().toISOString()\r\n              });\r\n            }}\r\n            className=\"btn btn-warning\"\r\n            style={{ \r\n              fontSize: '12px', \r\n              padding: '5px 10px',\r\n              backgroundColor: 'orange',\r\n              color: 'white',\r\n              border: '2px solid red'\r\n            }}\r\n          >\r\n            ðŸ§ª Test Video Call\r\n          </button>\r\n          <button\r\n            onClick={() => {\r\n              alert('Simple test button clicked!');\r\n              document.body.innerHTML += '<div style=\"position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:red;color:white;padding:20px;z-index:9999;\">SIMPLE TEST - BUTTONS WORK!</div>';\r\n            }}\r\n            className=\"btn btn-danger\"\r\n            style={{ \r\n              fontSize: '12px', \r\n              padding: '5px 10px',\r\n              backgroundColor: 'red',\r\n              color: 'white',\r\n              border: '2px solid black'\r\n            }}\r\n          >\r\n            ðŸ”¥ Simple Test\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Meetings Panel */}\r\n      {showMeetings && (\r\n        <div style={{\r\n          backgroundColor: '#f8f9fa',\r\n          borderBottom: '1px solid #ddd',\r\n          padding: '15px',\r\n          maxHeight: '200px',\r\n          overflowY: 'auto'\r\n        }}>\r\n          <h4 style={{ margin: '0 0 10px 0', fontSize: '14px' }}>ðŸ“… Meetings</h4>\r\n          {meetings.length === 0 ? (\r\n            <p style={{ fontSize: '12px', color: '#666', margin: 0 }}>\r\n              No meetings scheduled. Start a meeting to begin video calls!\r\n            </p>\r\n          ) : (\r\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n              {meetings.map((meeting) => (\r\n                <div key={meeting.id} style={{\r\n                  backgroundColor: 'white',\r\n                  padding: '10px',\r\n                  borderRadius: '5px',\r\n                  border: '1px solid #ddd'\r\n                }}>\r\n                  <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>\r\n                    <div>\r\n                      <h5 style={{ margin: '0 0 5px 0', fontSize: '13px' }}>{meeting.title}</h5>\r\n                      <p style={{ margin: 0, fontSize: '11px', color: '#666' }}>\r\n                        {meeting.meeting_type === 'INSTANT' ? 'ðŸš€ Instant' : 'ðŸ“… Scheduled'}\r\n                        {meeting.scheduled_at && ` - ${formatDateTime(meeting.scheduled_at)}`}\r\n                      </p>\r\n                      <p style={{ margin: '5px 0 0 0', fontSize: '11px' }}>\r\n                        <span style={{ \r\n                          color: getMeetingStatusColor(meeting.status),\r\n                          fontWeight: 'bold'\r\n                        }}>\r\n                          {meeting.status}\r\n                        </span>\r\n                        {meeting.duration_minutes && ` â€¢ ${meeting.duration_minutes} min`}\r\n                      </p>\r\n                    </div>\r\n                    <div style={{ display: 'flex', gap: '5px' }}>\r\n                      {meeting.status === 'SCHEDULED' && meeting.organizer_name === currentUsername && (\r\n                        <button\r\n                          onClick={() => handleStartMeeting(meeting)}\r\n                          className=\"btn btn-success\"\r\n                          style={{ fontSize: '10px', padding: '3px 8px' }}\r\n                        >\r\n                          Start\r\n                        </button>\r\n                      )}\r\n                      {meeting.status === 'ONGOING' && (\r\n                        <button\r\n                          onClick={() => handleJoinMeeting(meeting)}\r\n                          className=\"btn btn-primary\"\r\n                          style={{ fontSize: '10px', padding: '3px 8px' }}\r\n                        >\r\n                          Join\r\n                        </button>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Messages Area */}\r\n      <div style={{\r\n        flex: 1,\r\n        overflowY: 'auto',\r\n        padding: '15px',\r\n        backgroundColor: '#f9f9f9'\r\n      }}>\r\n        {error && (\r\n          <div className=\"alert alert-danger\" style={{ marginBottom: '15px' }}>\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {messages.length === 0 ? (\r\n          <div style={{ \r\n            textAlign: 'center', \r\n            color: '#666', \r\n            marginTop: '50px' \r\n          }}>\r\n            <p>No messages yet. Start the conversation!</p>\r\n            <p style={{ fontSize: '14px' }}>\r\n              ðŸ’¡ Share tips, ask questions, or discuss your skills\r\n            </p>\r\n            <p style={{ fontSize: '14px' }}>\r\n              ðŸš€ Click \"Start Meeting\" to begin video calls\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          <div style={{ display: 'flex', flexDirection: 'column', gap: '10px' }}>\r\n            {messages.map((message) => {\r\n              const isOwnMessage = message.sender_name === currentUsername;\r\n              return (\r\n                <div\r\n                  key={message.id}\r\n                  style={{\r\n                    display: 'flex',\r\n                    justifyContent: isOwnMessage ? 'flex-end' : 'flex-start',\r\n                    marginBottom: '10px'\r\n                  }}\r\n                >\r\n                  <div style={{\r\n                    maxWidth: '70%',\r\n                    padding: '10px 15px',\r\n                    borderRadius: '15px',\r\n                    backgroundColor: isOwnMessage ? '#007bff' : 'white',\r\n                    color: isOwnMessage ? 'white' : '#333',\r\n                    boxShadow: '0 1px 3px rgba(0,0,0,0.1)',\r\n                    wordWrap: 'break-word'\r\n                  }}>\r\n                    <div style={{ \r\n                      fontSize: '12px', \r\n                      marginBottom: '5px',\r\n                      opacity: 0.8\r\n                    }}>\r\n                      {message.sender_name}\r\n                    </div>\r\n                    <div style={{ marginBottom: '5px' }}>\r\n                      {message.content}\r\n                    </div>\r\n                    <div style={{ \r\n                      fontSize: '10px', \r\n                      opacity: 0.7,\r\n                      textAlign: 'right'\r\n                    }}>\r\n                      {formatTime(message.created_at)}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Message Input */}\r\n      <form onSubmit={handleSendMessage} style={{\r\n        padding: '15px',\r\n        borderTop: '1px solid #ddd',\r\n        backgroundColor: 'white'\r\n      }}>\r\n        <div style={{ display: 'flex', gap: '10px' }}>\r\n          <input\r\n            type=\"text\"\r\n            value={newMessage}\r\n            onChange={(e) => setNewMessage(e.target.value)}\r\n            placeholder=\"Type your message...\"\r\n            style={{\r\n              flex: 1,\r\n              padding: '10px',\r\n              border: '1px solid #ddd',\r\n              borderRadius: '5px',\r\n              fontSize: '14px'\r\n            }}\r\n            disabled={sending}\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            disabled={sending || !newMessage.trim()}\r\n            className=\"btn btn-primary\"\r\n            style={{ padding: '10px 20px' }}\r\n          >\r\n            {sending ? 'Sending...' : 'Send'}\r\n          </button>\r\n        </div>\r\n      </form>\r\n\r\n      {/* Meeting Modal */}\r\n      {showMeetingModal && (\r\n        <MeetingModal\r\n          chatId={chatId}\r\n          participants={participants}\r\n          onClose={() => setShowMeetingModal(false)}\r\n          onMeetingCreated={handleMeetingCreated}\r\n          onStartVideoCall={setActiveVideoCall}\r\n        />\r\n      )}\r\n\r\n      {/* Video Call */}\r\n      {activeVideoCall && (\r\n        <div>\r\n          <div style={{\r\n            position: 'fixed',\r\n            top: '10px',\r\n            right: '10px',\r\n            backgroundColor: 'red',\r\n            color: 'white',\r\n            padding: '10px',\r\n            zIndex: 3000,\r\n            borderRadius: '5px'\r\n          }}>\r\n            DEBUG: Video Call Active - Meeting ID: {activeVideoCall.id}\r\n          </div>\r\n          \r\n          <VideoCall\r\n            meetingId={activeVideoCall.id}\r\n            participants={participants}\r\n            onClose={() => setActiveVideoCall(null)}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {/* Meeting Notification */}\r\n      {meetingNotification && (\r\n        <MeetingNotification\r\n          meeting={meetingNotification}\r\n          onJoin={handleMeetingNotificationJoin}\r\n          onDismiss={handleMeetingNotificationDismiss}\r\n        />\r\n      )}\r\n\r\n      {/* Notification Panel */}\r\n      {showNotificationPanel && (\r\n        <NotificationPanel\r\n          notifications={notifications}\r\n          onJoinMeeting={handleJoinMeetingFromNotification}\r\n          onDismissNotification={handleDismissNotification}\r\n          onMarkAsRead={handleMarkNotificationAsRead}\r\n          onClearAll={handleClearAllNotifications}\r\n          onClose={() => setShowNotificationPanel(false)}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}